<!doctype html>
<html lang="ru" data-theme="light">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="theme-color" content="#f7a7aa" />
  <title>–ù–∞—à –¥–Ω–µ–≤–Ω–∏–∫</title>
  <link rel="stylesheet" href="./styles.css?v=10" />
</head>
<body>
  <div class="page">
    <div class="frame">
      <header class="siteHeader">
        <div class="brand">
          <div class="brandBadge" aria-hidden="true">‚ù§</div>
          <div class="brandText">
            <div class="brandTitle">–ù–∞—à –¥–Ω–µ–≤–Ω–∏–∫</div>
            <div class="brandSub" id="subtitle">–∫–∞–ª–µ–Ω–¥–∞—Ä—å ‚Ä¢ –ª–µ–Ω—Ç–∞ ‚Ä¢ –∑–∞–ø–∏—Å–∏ ‚Ä¢ –∞–ª—å–±–æ–º ‚Ä¢ live</div>
          </div>
        </div>

        <div class="topActions">
          <button class="btn ghost" id="btnTheme" type="button" aria-label="–°–º–µ–Ω–∏—Ç—å —Ç–µ–º—É" title="–¢–µ–º–∞">‚òæ</button>
          <button class="btn ghost hidden" id="btnRefresh" type="button">–û–±–Ω–æ–≤–∏—Ç—å</button>
          <button class="btn ghost hidden" id="btnSignOut" type="button">–í—ã–π—Ç–∏</button>
        </div>
      </header>

      <section class="window" aria-label="–û–∫–Ω–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è">
        <div class="windowTop" aria-hidden="true">
          <div class="dots"><span></span><span></span><span></span></div>
          <div class="windowTitle">love club</div>
          <div class="tinyHearts">‚ù§ ‚ù§ ‚ù§</div>
        </div>

        <div class="windowBody">
          <!-- AUTH -->
          <section class="card authCard" id="authCard">
            <h1>–í—Ö–æ–¥</h1>
            <p class="muted">–î–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ –¥–ª—è –¥–≤—É—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤.</p>
            <form id="loginForm" class="stack">
              <label class="field">
                <span>Email</span>
                <input id="email" type="email" inputmode="email" autocomplete="email" required />
              </label>

              <label class="field">
                <span>–ü–∞—Ä–æ–ª—å</span>
                <input id="password" type="password" autocomplete="current-password" required />
              </label>

              <button class="btn primary" type="submit" id="btnLogin">–í–æ–π—Ç–∏</button>
              <div class="error hidden" id="authError"></div>
            </form>
          </section>

          <!-- APP -->
          <section class="hidden" id="appRoot">
            <section class="heroRow">
              <div class="heroCard">
                <div class="heroTitle">–ù–∞—à–∞ –∏—Å—Ç–æ—Ä–∏—è</div>
                <div class="heroText">–ó–¥–µ—Å—å –±—É–¥—É—Ç –≤–∞—à–∏ –¥–∞—Ç—ã, –∑–∞–ø–∏—Å–∏ –∏ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏. –ê –µ—â—ë ‚Äî —Å–æ–≤–º–µ—Å—Ç–Ω–∞—è –¥–æ—Å–∫–∞ –¥–ª—è —Ä–∏—Å—É–Ω–∫–æ–≤.</div>
                <div class="stats" id="statsRow"></div>
              </div>
              <div class="heroCard heroCard2">
                <div class="heroTitle">–ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è</div>
                <div class="quickActions">
                  <button class="btn primary" type="button" id="btnQuickSeed">–î–æ–±–∞–≤–∏—Ç—å –≤–∞–∂–Ω—ã–µ –¥–∞—Ç—ã</button>
                  <button class="btn" type="button" id="btnQuickLive">–û—Ç–∫—Ä—ã—Ç—å Live</button>
                  <button class="btn" type="button" id="btnSurprise">–°—é—Ä–ø—Ä–∏–∑ ‚ù§</button>
                </div>
                <div class="muted small" id="liveStatus">Live: –æ—Ç–∫–ª—é—á–µ–Ω–æ</div>
              </div>
            </section>

            <nav class="tabs" aria-label="–†–∞–∑–¥–µ–ª—ã">
              <button class="tab active" data-tab="calendar" type="button">–ö–∞–ª–µ–Ω–¥–∞—Ä—å</button>
              <button class="tab" data-tab="feed" type="button">–õ–µ–Ω—Ç–∞</button>
              <button class="tab" data-tab="diary" type="button">–ó–∞–ø–∏—Å–∏</button>
              <button class="tab" data-tab="album" type="button">–ê–ª—å–±–æ–º</button>
              <button class="tab" data-tab="live" type="button">Live</button>
            </nav>

            <!-- CALENDAR -->
            <section class="card tabPanel" id="tab-calendar">
              <div class="row spread">
                <div class="monthHead">
                  <div class="monthLabel" id="monthLabel">MONTH</div>
                  <div class="monthMeta" id="monthMeta">----</div>
                </div>

                <div class="row">
                  <button class="btn iconBtn" id="btnMonthPrev" type="button" aria-label="–ü—Ä–µ–¥—ã–¥—É—â–∏–π –º–µ—Å—è—Ü">‚Üê</button>
                  <button class="btn iconBtn" id="btnMonthNext" type="button" aria-label="–°–ª–µ–¥—É—é—â–∏–π –º–µ—Å—è—Ü">‚Üí</button>
                </div>
              </div>

              <div class="calendarWrap">
                <div class="calendar paperCalendar" id="calendarGrid" role="grid" aria-label="–ö–∞–ª–µ–Ω–¥–∞—Ä—å"></div>

                <aside class="side">
                  <div class="sideTitle" id="selectedDateTitle">‚Äî</div>

                  <div class="sideActions">
                    <button class="btn ghost" id="btnSeedDates" type="button">–î–æ–±–∞–≤–∏—Ç—å –≤–∞–∂–Ω—ã–µ –¥–∞—Ç—ã</button>
                  </div>

                  <div class="eventList" id="eventList"></div>

                  <hr class="sep" />

                  <h3 class="h3">–î–æ–±–∞–≤–∏—Ç—å —Å–æ–±—ã—Ç–∏–µ</h3>
                  <form id="eventForm" class="stack">
                    <label class="field">
                      <span>–î–∞—Ç–∞</span>
                      <input id="eventDate" type="date" required />
                    </label>

                    <label class="field">
                      <span>–ù–∞–∑–≤–∞–Ω–∏–µ</span>
                      <input id="eventTitle" type="text" maxlength="80" required placeholder="–Ω–∞–ø—Ä–∏–º–µ—Ä: –ø–æ–∑–Ω–∞–∫–æ–º–∏–ª–∏—Å—å" />
                    </label>

                    <label class="field">
                      <span>–ó–∞–º–µ—Ç–∫–∞ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)</span>
                      <input id="eventNote" type="text" maxlength="140" placeholder="–º–∞–ª–µ–Ω—å–∫–∞—è –ø–æ–¥–ø–∏—Å—å" />
                    </label>

                    <div class="row">
                      <label class="field">
                        <span>–¢–∏–ø</span>
                        <select id="eventKind">
                          <option value="memory">–≤–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏–µ</option>
                          <option value="birthday">–¥–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è</option>
                          <option value="other">–¥—Ä—É–≥–æ–µ</option>
                        </select>
                      </label>

                      <label class="field">
                        <span>–≠–º–±–ª–µ–º–∞</span>
                        <select id="eventIcon">
                          <option value="‚ù§">‚ù§ —Å–µ—Ä–¥—Ü–µ</option>
                          <option value="üéÇ">üéÇ —Ç–æ—Ä—Ç</option>
                          <option value="üíç">üíç –∫–æ–ª—å—Ü–æ</option>
                          <option value="üåπ">üåπ —Ä–æ–∑–∞</option>
                          <option value="‚≠ê">‚≠ê –∑–≤–µ–∑–¥–∞</option>
                          <option value="‚ú®">‚ú® —Å–∏—è–Ω–∏–µ</option>
                          <option value="üè†">üè† –¥–æ–º</option>
                          <option value="‚úàÔ∏è">‚úàÔ∏è –ø–æ–µ–∑–¥–∫–∞</option>
                          <option value="üì∏">üì∏ —Ñ–æ—Ç–æ</option>
                        </select>
                      </label>
                    </div>

                    <button class="btn primary" type="submit" id="btnAddEvent">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                    <div class="error hidden" id="eventError"></div>
                  </form>
                </aside>
              </div>
            </section>

            <!-- FEED -->
            <section class="card tabPanel hidden" id="tab-feed">
              <div class="row spread">
                <h2>–õ–µ–Ω—Ç–∞</h2>
                <div class="row">
                  <input class="search" id="feedSearch" type="search" placeholder="–ø–æ–∏—Å–∫ –ø–æ –ª–µ–Ω—Ç–µ‚Ä¶" />
                  <button class="btn" id="btnFeedMore" type="button">–ï—â—ë</button>
                </div>
              </div>
              <div class="feed" id="feedList"></div>
            </section>

            <!-- DIARY -->
            <section class="card tabPanel hidden" id="tab-diary">
              <div class="row spread">
                <h2>–ó–∞–ø–∏—Å–∏</h2>
                <div class="pager">
                  <button class="btn iconBtn" id="btnEntriesPrev" type="button">‚Üê</button>
                  <span class="muted" id="entriesPageLabel">1</span>
                  <button class="btn iconBtn" id="btnEntriesNext" type="button">‚Üí</button>
                </div>
              </div>

              <form id="entryForm" class="stack">
                <div class="row">
                  <label class="field">
                    <span>–î–∞—Ç–∞</span>
                    <input id="entryDate" type="date" required />
                  </label>
                  <label class="field">
                    <span>–¢–µ–≥–∏ (—á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é)</span>
                    <input id="entryTags" type="text" placeholder="–ø—Ä–æ–≥—É–ª–∫–∞, –¥–æ–º, –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ" />
                  </label>
                </div>

                <label class="field">
                  <span>–¢–µ–∫—Å—Ç</span>
                  <textarea id="entryBody" rows="6" required placeholder="–ß—Ç–æ –∑–∞–ø–æ–º–Ω–∏–ª–æ—Å—å..."></textarea>
                </label>

                <div class="row right">
                  <button class="btn primary" type="submit" id="btnAddEntry">–î–æ–±–∞–≤–∏—Ç—å –∑–∞–ø–∏—Å—å</button>
                </div>
                <div class="error hidden" id="entryError"></div>
              </form>

              <div class="list" id="entriesList"></div>
            </section>

            <!-- ALBUM -->
            <section class="card tabPanel hidden" id="tab-album">
              <div class="row spread">
                <h2>–ê–ª—å–±–æ–º</h2>
                <div class="muted" id="albumMeta">‚Äî</div>
              </div>

              <form id="albumForm" class="stack">
                <div class="row">
                  <label class="field">
                    <span>–î–∞—Ç–∞</span>
                    <input id="photoDate" type="date" required />
                  </label>
                  <label class="field">
                    <span>–ü–æ–¥–ø–∏—Å—å (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)</span>
                    <input id="photoCaption" type="text" maxlength="120" placeholder="–Ω–∞–ø—Ä–∏–º–µ—Ä: –≤–µ—á–µ—Ä–Ω—è—è –ø—Ä–æ–≥—É–ª–∫–∞" />
                  </label>
                </div>

                <label class="field">
                  <span>–§–æ—Ç–æ (–º–æ–∂–Ω–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ)</span>
                  <input id="photoFiles" type="file" accept="image/*" multiple />
                  <span class="hint">–î–ª—è —Å–∫–æ—Ä–æ—Å—Ç–∏ –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ –±–æ–ª—å—à–∏–µ —Ñ–æ—Ç–æ –±—É–¥—É—Ç —É–º–µ–Ω—å—à–µ–Ω—ã –¥–æ 1600px.</span>
                </label>

                <div class="row right">
                  <button class="btn primary" type="submit" id="btnUploadPhotos">–ó–∞–≥—Ä—É–∑–∏—Ç—å</button>
                </div>
                <div class="error hidden" id="albumError"></div>
              </form>

              <div class="masonry" id="photoGrid"></div>
              <div class="sentinel" id="photoSentinel" aria-hidden="true"></div>
            </section>

            <!-- LIVE -->
            <section class="card tabPanel hidden" id="tab-live">
              <div class="row spread">
                <h2>Live</h2>
                <div class="muted small" id="livePeers">‚Äî</div>
              </div>

              <div class="liveToolbar">
                <div class="toolGroup">
                  <button class="btn toolBtn active" type="button" id="toolPen">–ö–∏—Å—Ç—å</button>
                  <button class="btn toolBtn" type="button" id="toolEraser">–õ–∞—Å—Ç–∏–∫</button>
                </div>

                <div class="toolGroup colors" id="colorPresets">
                  <button class="c" type="button" data-color="#c5364a" aria-label="–ö—Ä–∞—Å–Ω—ã–π"></button>
                  <button class="c" type="button" data-color="#111111" aria-label="–ß—ë—Ä–Ω—ã–π"></button>
                  <button class="c" type="button" data-color="#ffffff" aria-label="–ë–µ–ª—ã–π"></button>
                  <button class="c" type="button" data-color="#f59e0b" aria-label="–û—Ä–∞–Ω–∂–µ–≤—ã–π"></button>
                  <button class="c" type="button" data-color="#10b981" aria-label="–ó–µ–ª—ë–Ω—ã–π"></button>
                  <button class="c" type="button" data-color="#3b82f6" aria-label="–°–∏–Ω–∏–π"></button>
                </div>

                <div class="toolGroup">
                  <label class="range">
                    <span class="muted small">–¢–æ–ª—â–∏–Ω–∞</span>
                    <input id="brushSize" type="range" min="2" max="24" value="6" />
                  </label>
                </div>

                <div class="toolGroup grow">
                  <input id="liveCaption" class="search" type="text" maxlength="120" placeholder="–ø–æ–¥–ø–∏—Å—å –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è‚Ä¶" />
                </div>

                <div class="toolGroup">
                  <button class="btn" type="button" id="btnLiveUndo">Undo</button>
                  <button class="btn" type="button" id="btnLiveClear">–û—á–∏—Å—Ç–∏—Ç—å</button>
                  <button class="btn primary" type="button" id="btnLiveSave">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ –∞–ª—å–±–æ–º</button>
                </div>
              </div>

              <div class="liveStage" id="liveStage">
                <canvas id="liveCanvas"></canvas>
                <div class="liveHint" id="liveHint">–ü–æ–¥–∫–ª—é—á–∞–µ–º Live‚Ä¶</div>
              </div>

              <div class="error hidden" id="liveError"></div>
            </section>
          </section>
        </div>
      </section>
    </div>
  </div>

  <script type="module" src="./app.js"></script>

  <!-- Surprise modal -->
  <div class="modal hidden" id="surpriseModal" role="dialog" aria-modal="true" aria-label="–°—é—Ä–ø—Ä–∏–∑">
    <div class="modalBackdrop" data-close="1"></div>
    <div class="modalCard">
      <div class="modalTop">
        <div class="modalTitle">–°—é—Ä–ø—Ä–∏–∑ ‚ù§</div>
        <button class="btn iconBtn" type="button" id="btnSurpriseClose" aria-label="–ó–∞–∫—Ä—ã—Ç—å">‚úï</button>
      </div>
      <div class="modalBody">
        <div class="surpriseMsg" id="surpriseMsg">‚Äî</div>
        <div class="row right" style="margin-top:12px;">
          <button class="btn" type="button" id="btnSurpriseAgain">–ï—â—ë</button>
          <button class="btn primary" type="button" id="btnSurpriseCopy">–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
        </div>
      </div>
    </div>
    <canvas class="confetti hidden" id="confettiCanvas" aria-hidden="true"></canvas>
  </div>

  <!-- Photo viewer (lightbox) -->
  <div class="viewer hidden" id="photoViewer" role="dialog" aria-modal="true" aria-label="–ü—Ä–æ—Å–º–æ—Ç—Ä —Ñ–æ—Ç–æ">
    <div class="viewerBackdrop" data-close="1"></div>
    <div class="viewerCard">
      <div class="viewerTop">
        <div class="viewerMeta" id="viewerMeta">‚Äî</div>
        <div class="viewerActions">
          <button class="btn iconBtn" type="button" id="btnViewPrev" aria-label="–ü—Ä–µ–¥—ã–¥—É—â–µ–µ">‚Üê</button>
          <button class="btn iconBtn" type="button" id="btnViewNext" aria-label="–°–ª–µ–¥—É—é—â–µ–µ">‚Üí</button>
          <button class="btn iconBtn" type="button" id="btnViewClose" aria-label="–ó–∞–∫—Ä—ã—Ç—å">‚úï</button>
        </div>
      </div>
      <div class="viewerStage" id="viewerStage">
        <img id="viewerImg" alt="" decoding="async" loading="eager" />
      </div>
      <div class="viewerCaption" id="viewerCaption"></div>
    </div>
  </div>

</body>
</html>
